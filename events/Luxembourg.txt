###########################
# Luxembourg events
###########################

add_namespace = luxembourg

# LUX Research Treaty
country_event = {
	id = luxembourg.1
	title = luxembourg.1.t
	desc = luxembourg.1.d
	picture = GFX_report_event_physics_lab_01
	
	is_triggered_only = yes
	
	option = {
		name = luxembourg.1.a	#yes
		ai_chance = { factor = 100 }
		LUX = {
			country_event = { days = 1 id = luxembourg.2 } #successful treaty
		}
		# REVISIT Balance research bonus
		add_ideas = {
				received_research_aid
		}
	}
	
	option = {
		name = luxembourg.1.b	#no
		ai_chance = { factor = 0 }
		add_political_power = -50
		LUX = {
			country_event = { days = 1 id = luxembourg.3 } #lux will have their revenge
		}
	}
}

# Accept  LUX Treaty
country_event = {
	id = luxembourg.2
	title = luxembourg.2.t
	desc = luxembourg.2.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes
	
	option = {
		name = luxembourg.2.a	#yay
		if = {
			limit = {
				has_completed_focus = LUX_treaty_with_usa
			}
			add_ideas = {
				big_brain4_usa_aid
			}
		}
		if = {
			limit = {
				has_completed_focus = LUX_treaty_with_ger
			}
			add_ideas = {
				big_brain4_ger_aid
			}
			
		}
		if = {
			limit = {
				has_completed_focus = LUX_treaty_with_sov
			}
			add_ideas = {
				big_brain4_sov_aid
			}
		}
	}
}

# Reject  LUX Treaty
country_event = {
	id = luxembourg.3
	title = luxembourg.3.t
	desc = luxembourg.3.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes
	
	option = {
		name = luxembourg.3.a	#noo
		if = {
			limit = {
				has_completed_focus = LUX_treaty_with_usa
			}
			add_timed_idea = { idea = revenge_on_usa days = 365 }
			if = {
				limit = {
					country_exists = USA					
				} 
				create_wargoal = {
					type = annex_everything
					target = USA
					expire = 365
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = LUX_treaty_with_ger
			}
			add_timed_idea = { idea = revenge_on_ger days = 365 }
			if = {
				limit = {
					country_exists = GER					
				} 
				create_wargoal = {
					type = annex_everything
					target = GER
					expire = 365
				}
			}
		}
		if = {
			limit = {
				has_completed_focus = LUX_treaty_with_sov
			}
			add_timed_idea = { idea = revenge_on_sov days = 365 }
			if = {
				limit = {
					country_exists = SOV					
				} 
				create_wargoal = {
					type = annex_everything
					target = SOV
					expire = 365
				}
			}
		}
	}
}

# Interrogated Council
country_event = {
	id = luxembourg.4
	title = luxembourg.4.t
	desc = luxembourg.4.d
	#picture = GFX_report_event_physics_lab_01
	
	is_triggered_only = yes
	
	option = {
		name = luxembourg.4.a	#yes
		ai_chance = { factor = 100 }
		#set_country_flag = interrogated_council
		war_support_factor = 0.5
	}
}
# Send out the spies to belgium
country_event = {
	id = luxembourg.5
	title = luxembourg.5.t
	desc = luxembourg.5.d
	#picture = GFX_report_event_physics_lab_01
	
	is_triggered_only = yes
	
	option = {
		name = luxembourg.5.a	#yes
		ai_chance = { factor = 100 }
		add_popularity = { ideology = democratic popularity = -0.025 }
		set_country_flag = found_enemies
	}
}
# Send out the spies to france
country_event = {
	id = luxembourg.6
	title = luxembourg.6.t
	desc = luxembourg.6.d
	#picture = GFX_report_event_physics_lab_01
	
	is_triggered_only = yes
	
	option = {
		name = luxembourg.6.a	#yes
		ai_chance = { factor = 100 }
		add_popularity = { ideology = democratic popularity = -0.025 }
	}
}
# Send out the spies to germany
country_event = {
	id = luxembourg.7
	title = luxembourg.7.t
	desc = luxembourg.7.d
	#picture = GFX_report_event_physics_lab_01
	
	is_triggered_only = yes
	
	option = {
		name = luxembourg.7.a	#yes
		ai_chance = { factor = 100 }
		add_popularity = { ideology = democratic popularity = -0.025 }
	}
}

#UK agrees to become overlord
country_event = {
	id = luxembourg.8
	title = luxembourg.8.t
	desc = luxembourg.8.d
	#picture = GFX_report_event_hitler_handshake
	
	is_triggered_only = yes
	
	option = {
		name = luxembourg.8.a
		effect_tooltip = {
			ENG = {
				puppet = LUX
			}
		}
		hidden_effect = {
			
		}
	}
}

#Greater Purge: Begins
country_event = {
	id = luxembourg.9
	title = luxembourg.9.t
	desc = luxembourg.9.d
	picture = GFX_report_event_soviet_purge_speech
	
	fire_only_once = yes
	
	option = {
		name = luxembourg.9.a
	}
}

#The Great Purge: Step 1
country_event = {
	id = luxembourg.10
	title = luxembourg.10.t
	desc = luxembourg.10.d
	picture = GFX_report_event_soviet_purge_speech
	
	fire_only_once = yes

	trigger = {
		tag = LUX
		has_completed_focus = LUX_the_greater_purge
	}
	
	option = {
		name = luxembourg.10.a
		remove_unit_leader = 1 #Remove Jacob
		remove_ideas = "Jacrox"
	}
	option = {
		name = luxembourg.10.b
		remove_unit_leader = 2 #Remove Joel
		remove_ideas = "TheAngryPopo"
	}
}

#The Great Purge: Step 2
country_event = {
	id = luxembourg.11
	title = luxembourg.11.t
	desc = luxembourg.11.d
	picture = GFX_report_event_soviet_purge_speech
	
	fire_only_once = yes

	trigger = {
		tag = LUX
		has_completed_focus = LUX_the_greater_purge
	}

	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = luxembourg.11.a
	}
}

#The Great Purge: Step 3
country_event = {
	id = luxembourg.12
	title = luxembourg.12.t
	desc = luxembourg.12.d
	picture = GFX_report_event_soviet_purge_speech
	
	trigger = {
		tag = LUX
		has_completed_focus = LUX_the_greater_purge
	}

	fire_only_once = yes
	
	option = {
		name = luxembourg.12.a
	}
}